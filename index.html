<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Cập nhật tình trạng virut Corona 2019 nCoV, Live update</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'/>

    <meta name="description" content="Cập nhật tình trạng virut Corona 2019 nCoV, Live update" />
    <meta property="og:description" content="Cập nhật tình trạng virut Corona 2019 nCoV, Live update" />
    <meta itemprop="description" content="Cập nhật tình trạng virut Corona 2019 nCoV, Live update">
    
    <meta name="author" content="Cualuoidanang.com" />
    <meta name="theme-color" content="#2f9697">
    <meta name="mobile-web-app-capable" content="yes">
    
    <meta itemprop="name" content="ncov.ga">
    <meta itemprop="image" content="https://ncov.ga/favicon.png">

    <meta property="og:url" content="https://ncov.ga" />
    <meta property="og:title" content="ncov.ga" />
    <meta property="og:image" content="https://ncov.ga/favicon.png" />

    <meta name="twitter:title" content="ncov.ga" />
    <meta name="twitter:image" content="https://ncov.ga/favicon.png" />

    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,900,400italic|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="favicon.png">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
    <script type='text/javascript' src='sheetsee.js'></script>
    <link rel='stylesheet' type='text/css' href='style.css'>
  </head>
  <body>
    <div class="container">
      <h1>Virut Corona nCoV 2019</h1>
      <p><em>Cập nhật đến <span id="updatetime">2019/2/6 18:00:00</span>, tự động cập nhật sau 5 phút.</em><p>
	  
	<div id="chart_div"></div>
  
      <div id="fullTable"><table id="pretty" class="u-full-width"></table></div>
      
      <hr>
      <footer>
        <div class="footer">
          <div class="row">
            <div class="three columns">
              <h5>Kiến thức</h4>
            <ul>
              <li><a href="https://www.vinmec.com/vi/tin-tuc/thong-tin-suc-khoe/dich-2019-ncov/thong-tin-suc-khoe/thong-tin-day-du-ve-virus-corona-theo-huong-dan-cua-bo-y-te/">Virus corona 2019 là gì?</a></li>
              <li><a href="https://www.vinmec.com/vi/tin-tuc/thong-tin-suc-khoe/suc-khoe-tong-quat/hoi-dap-day-du-ve-dich-virus-corona-2019/">Nguồn gốc của 2019-nCoV</a></li>
              <li><a href="https://www.vinmec.com/vi/tin-tuc/thong-tin-suc-khoe/suc-khoe-tong-quat/hoi-dap-day-du-ve-dich-virus-corona-2019/">Cơ chế lây lan</a></li>
            </ul>
            </div>
            <div class="three columns">
              <h5>Phòng ngừa</h4>
              <ul>
                <li>Rửa tay thường xuyên/li>
                <li>Đeo khẩu trang</li>
                <li>Tránh nơi đông người</li>
                <li>Tránh tiếp xúc vật nuôi</li>
              </ul>
            </div>
            <div class="three columns">
              <h5>Triệu chứng</h4>
              <ul>
                <li>Sốt</li>
                <li>Ho</li>
                <li>Khó thở</li>
              </ul>
            </div>
            <div class="three columns">
              <h5>Đường dây nóng</h4>
              <ul>
                <li><a href="tel:19009095">1900-9095</a></li>
                <li><a href="tel:19003228">1900-3228</a></li>
              </ul>
            </div>
          </div>
        </div>
        <p>Phát triển bởi nht@huuthanhdtd.com. Dữ liệu: Bộ Y tế, WorldOMeters</p>
      </footer>
	  
    </div>
    

    </table>
    <script id="fullTable_template" type="text/html">
      <table class="u-full-width">
        <tr><th class="tHeader">Ngày</th><th class="tHeader">Nhiễm</th><th class="tHeader">Tử vong</th><th class="tHeader">Khỏi bệnh</th><th class="tHeader">Tăng nhiễm</th></tr>
          {{#rows}}
            <tr><td>{{Ngày}}</td><td>{{Nghi Nhiễm}}</td><td>{{Tử vong}}</td><td>{{Khỏi bệnh}}</td><td>{{Tăng nhiễm}}</td></tr>
          {{/rows}}
      </table>
    </script>

	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        var URL = "1apbJy54knVUXcKpuerSrgkADdZaGJ05Xh3pqkhHZZsI"
        Tabletop.init({key: URL, callback: showInfo, simpleSheet: true})
      })
	  google.charts.load('current', {packages: ['corechart', 'line']});
		
		var dt;
      function showInfo (data) {
        var tableOptions = {
          "data": data,
          "pagination": 50,
          "tableDiv": "#fullTable",
          "filterDiv": "#fullTableFilter"
        }
		dt = data;
		document.getElementById('updatetime').innerText = dt[0]['Cập nhật'];
        //Sheetsee.makeTable(tableOptions)
        //Sheetsee.initiateTableFilter(tableOptions)
        drawTable();

		google.charts.setOnLoadCallback(drawAxisTickColors);
      }

      

function drawAxisTickColors() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Ngày');
      data.addColumn('number', 'Nhiễm');
	  data.addColumn({type: 'number', role: 'annotation'});
      data.addColumn('number', 'Chết');
	  data.addColumn({type: 'number', role: 'annotation'});
    data.addColumn('number', 'Khỏi');
    data.addColumn('number', 'Tăng nhiễm');
	  //data.addColumn({type: 'number', role: 'annotation'});
		for (i = 0;i<dt.length;i++){
		var nn = parseInt(dt[i]['Nghi Nhiễm'])
		var tv = parseInt(dt[i]['Tử vong'])
		var kb = parseInt(dt[i]['Khỏi bệnh'])
		data.addRows([[dt[i]['Ngày'],nn, nn, tv, tv, kb, parseInt(dt[i]['Tăng nhiễm'])]]);
		}
      

      var options = {
        hAxis: {
          title: null,
          textStyle: {
            color: '#01579b',
            fontSize: 12,
            fontName: 'Arial',
            bold: false,
            italic: false
          },
          titleTextStyle: {
            color: '#01579b',
            fontSize: 12,
            fontName: 'Arial',
            bold: false,
            italic: true
          },
		  slantedTextAngle:90
        },
        vAxis: {
          title: 'Người',
          textStyle: {
            color: '#1a237e',
            fontSize: 12,
            bold: false
          },
          titleTextStyle: {
            color: '#1a237e',
            fontSize: 12,
            bold: false,
            italic: false
          },
          format: 'short'
        },
		height:600,
		annotations: {
            0: {style: 'point'}
			},
		chartArea:{left:50,top:10,width:'90%',height:'75%'},
        colors: ['#4285f4', '#ea4335', '#38761d', '#4374e0'],
        legend: { position: 'bottom' },
        series: {
            0: { pointSize: 6, pointShape: 'square', },
            1: { pointSize: 6, pointShape: 'diamond' },
            2: { pointSize: 4, pointShape: 'circle' },
            3: { lineDashStyle: [1, 1] }
          },
        
      };
      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }

    function drawTable() {
        var column_names = ['Ngày', 'Nghi Nhiễm', 'Tử vong', 'Khỏi bệnh', 'Tăng nhiễm'];
        
        var html = '';
        
        
        html += "<thead><tr>";
        for(var i = 0; i < column_names.length; i++) {
          html += '<th>' + column_names[i] +'</th>';
        }
        html += "</tr></thead>";
        
        html += '<tbody>';
        for(var i = dt.length-1; i >= 0; i--) {
          html += '<tr><td>' + dt[i]['Ngày'] +'</td><td>' + dt[i]['Nghi Nhiễm'] +'</td><td>' + dt[i]['Tử vong'] +'</td><td>' + dt[i]['Khỏi bệnh'] +'</td><td>' + dt[i]['Tăng nhiễm'] +'</td>' + '</tr>';
        }
        html += '</tbody>';
        document.getElementById('pretty').innerHTML = html;
      }
    </script>
  </body>
</html>
